(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const e of l)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const e={};return l.integrity&&(e.integrity=l.integrity),l.referrerPolicy&&(e.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?e.credentials="include":l.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function d(l){if(l.ep)return;l.ep=!0;const e=a(l);fetch(l.href,e)}})();let t="https://api.spaceflightnewsapi.net/v4/articles/";async function E(o){let r=[];const d=await(await fetch(o)).json();let l=10;d.count<l&&(l=d.count);for(let e=0;e<l;e++){let c=d.results[e].news_site;if(r.find(n=>n.bron===c)){let n=r.findIndex(s=>s.bron==c);r[n].aantal++}else{let n={bron:c,aantal:1};r.push(n)}}document.querySelector("#countArticlesContainer").textContent="";for(let e=0;e<r.length;e++){let c=r[e].bron,n=r[e].aantal;const s=document.createElement("div");s.classList.add("countDisplay"),s.textContent=`${c}: ${n}`,document.querySelector("#countArticlesContainer").appendChild(s)}}async function f(o){E(o),document.querySelector("#showArticle").textContent="";let r=[],a=[];r=(await(await fetch(o)).json()).results,localStorage.getItem("article"),r.forEach(e=>{const c={id:e.id,Url:e.url,Title:e.title,Summary:e.summary,NewsSource:e.news_site,PublishDate:e.published_at,HasLaunch:e.launches&&e.launches.length>0,HasEvent:e.events&&e.events.length>0,ImageUrl:e.image_url,BigArticle:!1};a.push(c)}),localStorage.getItem("article")!=null&&a.push(JSON.parse(localStorage.getItem("article")));for(let e=0;e<a.length;e++){const c=new Date(a[e].PublishDate);if(e==0)a[e].BigArticle=!0;else{const n=new Date(a[e-1].PublishDate);c.getDate()<n.getDate()&&(a[e].BigArticle=!0)}if(a[e].BigArticle==!1){const n=document.querySelector("#artTemp").content.cloneNode(!0),s=n.querySelector(".articleDet");if(n.querySelector(".Title").textContent=a[e].Title,n.querySelector(".articleSummary").textContent=a[e].Summary,n.querySelector(".articleSrc").textContent=a[e].NewsSource,n.querySelector(".articleLastupdate").textContent=c.toLocaleDateString("en-EN"),a[e].HasEvent){const p=document.createElement("span");p.classList.add("event"),p.textContent="Event",s.appendChild(p)}if(a[e].HasLaunch){const p=document.createElement("span");p.classList.add("launch"),p.textContent="Launch",s.appendChild(p)}const S=n.querySelector("a");S.href=a[e].Url,S.dataset.articleid=a[e].id,n.querySelector("img").src=a[e].ImageUrl,n.querySelector("img").alt="Image for the article",document.querySelector("#showArticle").appendChild(n)}else{const n=document.querySelector("#bigArtTemp").content.cloneNode(!0);n.querySelector("img").src=a[e].ImageUrl,n.querySelector("img").alt="Image for the article",n.querySelector(".bigTitle").textContent=a[e].Title,n.querySelector(".bigArtDate").textContent=c.toLocaleDateString("en-EN");const s=n.querySelector("a");s.href=a[e].Url,s.dataset.articleid=a[e].id,document.querySelector("#showArticle").appendChild(n)}}}function w(o){E(),f(t);var r=new Date("nov 10, 2023 17:00:00").getTime(),a=setInterval(function(){var d=new Date().getTime(),l=r-d,e=Math.floor(l/(1e3*60*60*24)),c=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),n=Math.floor(l%(1e3*60*60)/(1e3*60)),s=Math.floor(l%(1e3*60)/1e3);o.innerHTML="assignment time remaining: "+e+" days "+c+" hours "+n+" minutes and "+s+" seconds ",l<0&&(clearInterval(a),o.innerHTML="EXPIRED")},1e3)}const v=document.getElementById("hasEvent"),_=document.getElementById("hasLaunch"),y=document.getElementById("searchArt"),I=document.getElementById("searchButton"),C=document.querySelectorAll('input[name="type"]'),g=document.getElementById("articleDate");let h=0,u=0,i="";v.addEventListener("change",function(){this.checked?(h=1,_.checked?u==0?t=t.replace("?has_launch=true","?has_event=true&has_launch=true"):t=t.replace("?has_launch=true&published_at_lte="+i,"?has_event=true&has_launch=true&published_at_lte="+i):u==0?t+="?has_event=true":t=t.replace("?published_at_lte="+i,"?has_event=true&published_at_lte="+i)):(t=t.replace("?has_event=true",""),_.checked?(h=1,t=t.replace("&","?")):(h=0,u==0?t=t.replace("&",""):t=t.replace("&","?"))),f(t)});_.addEventListener("change",function(){this.checked?(h=1,v.checked?u==0?(t+="&",t+="has_launch=true"):t=t.replace("?has_event=true&published_at_lte="+i,"?has_event=true&has_launch=true&published_at_lte="+i):u==0?t+="?has_launch=true":t=t.replace("?published_at_lte="+i,"?has_launch=true&published_at_lte="+i)):v.checked?(h=1,t=t.replace("&has_launch=true","")):(h=0,t=t.replace("?has_launch=true",""),u==0?t=t.replace("&",""):t=t.replace("&","?")),f(t)});let m="";I.addEventListener("click",function(o){o.preventDefault(),m="",(h==1||u==1)&&(m=m+"&title_contains="+y.value),h==0&&u==0&&(m+="?title_contains="+y.value),t+=m,f(t),t=t.replace(m,""),y.value=""});var b="article";C.forEach(o=>{o.addEventListener("change",function(r){t=t.replace(b,r.target.value),b=r.target.value,f(t)})});async function D(){const r=await(await fetch("https://api.spacexdata.com/v5/launches/latest")).json(),a=new Date(r.date_local);document.getElementById("launchImg").src=r.links.patch.large,document.getElementById("launchImgTekst").textContent=r.name+" "+a.toLocaleDateString("en-EN")}D();g.addEventListener("change",function(){t=t.replace("&published_at_lte="+i,""),t=t.replace("?published_at_lte="+i,""),g.value==""&&(u=0),h==1?(u=1,t+="&published_at_lte="+g.value):(u=1,t+="?published_at_lte="+g.value),i=g.value,f(t)});const L=document.getElementById("createArticleIcon");L.addEventListener("click",function(){window.replace("C:Usersabenipropedeuse ICTFEP1_jaar2\fep1_jaar2_eindopdrachtcreateArticle.html")});w(document.querySelector("#cntdwn"));
